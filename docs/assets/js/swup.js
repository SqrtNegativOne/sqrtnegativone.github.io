(()=>{var Y=Object.getOwnPropertySymbols;var ht=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable;var Q=(e,t)=>{var s={};for(var i in e)ht.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(e!=null&&Y)for(var i of Y(e))t.indexOf(i)<0&&ut.call(e,i)&&(s[i]=e[i]);return s};var k=(e,t,s)=>new Promise((i,n)=>{var a=r=>{try{l(s.next(r))}catch(c){n(c)}},o=r=>{try{l(s.throw(r))}catch(c){n(c)}},l=r=>r.done?i(r.value):Promise.resolve(r.value).then(a,o);l((s=s.apply(e,t)).next())});var D=new WeakMap;function W(e,t,s,i){var l,r;if(!e&&!D.has(t))return!1;let n=(l=D.get(t))!=null?l:new WeakMap;D.set(t,n);let a=(r=n.get(s))!=null?r:new Set;n.set(s,a);let o=a.has(i);return e?a.add(i):a.delete(i),o&&e}function dt(e,t){let s=e.target;if(s instanceof Text&&(s=s.parentElement),s instanceof Element&&e.currentTarget instanceof Element){let i=s.closest(t);if(i&&e.currentTarget.contains(i))return i}}function pt(e,t,s,i={}){let{signal:n,base:a=document}=i;if(n!=null&&n.aborted)return;let m=i,{once:o}=m,l=Q(m,["once"]),r=a instanceof Document?a.documentElement:a,c=!!(typeof i=="object"?i.capture:i),u=g=>{let w=dt(g,String(e));if(w){let p=Object.assign(g,{delegateTarget:w});s.call(r,p),o&&(r.removeEventListener(t,u,l),W(!1,r,s,h))}},h=JSON.stringify({selector:e,type:t,capture:c});W(!0,r,s,h)||r.addEventListener(t,u,l),n==null||n.addEventListener("abort",()=>{W(!1,r,s,h)})}var O=pt;function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)({}).hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},y.apply(null,arguments)}var st=(e,t)=>String(e).toLowerCase().replace(/[\s/_.]+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")||t||"",H=({hash:e}={})=>window.location.pathname+window.location.search+(e?window.location.hash:""),mt=(e,t={})=>{let s=y({url:e=e||H({hash:!0}),random:Math.random(),source:"swup"},t);window.history.pushState(s,"",e)},x=(e=null,t={})=>{e=e||H({hash:!0});let s=y({},window.history.state||{},{url:e,random:Math.random(),source:"swup"},t);window.history.replaceState(s,"",e)},ft=(e,t,s,i)=>{let n=new AbortController;return i=y({},i,{signal:n.signal}),O(e,t,s,i),{destroy:()=>n.abort()}},E=class e extends URL{constructor(t,s=document.baseURI){super(t.toString(),s),Object.setPrototypeOf(this,e.prototype)}get url(){return this.pathname+this.search}static fromElement(t){let s=t.getAttribute("href")||t.getAttribute("xlink:href")||"";return new e(s)}static fromUrl(t){return new e(t)}};var C=class extends Error{constructor(t,s){super(t),this.url=void 0,this.status=void 0,this.aborted=void 0,this.timedOut=void 0,this.name="FetchError",this.url=s.url,this.status=s.status,this.aborted=s.aborted||!1,this.timedOut=s.timedOut||!1}};function gt(s){return k(this,arguments,function*(e,t={}){var i;e=E.fromUrl(e).url;let{visit:n=this.visit}=t,a=y({},this.options.requestHeaders,t.headers),o=(i=t.timeout)!=null?i:this.options.timeout,l=new AbortController,{signal:r}=l;t=y({},t,{headers:a,signal:r});let c,u=!1,h=null;o&&o>0&&(h=setTimeout(()=>{u=!0,l.abort("timeout")},o));try{c=yield this.hooks.call("fetch:request",n,{url:e,options:t},(f,{url:b,options:S})=>fetch(b,S)),h&&clearTimeout(h)}catch(f){throw u?(this.hooks.call("fetch:timeout",n,{url:e}),new C(`Request timed out: ${e}`,{url:e,timedOut:u})):(f==null?void 0:f.name)==="AbortError"||r.aborted?new C(`Request aborted: ${e}`,{url:e,aborted:!0}):f}let{status:d,url:m}=c,g=yield c.text();if(d===500)throw this.hooks.call("fetch:error",n,{status:d,response:c,url:m}),new C(`Server error: ${m}`,{status:d,url:m});if(!g)throw new C(`Empty response: ${m}`,{status:d,url:m});let{url:w}=E.fromUrl(m),p={url:w,html:g};return!n.cache.write||t.method&&t.method!=="GET"||e!==w||this.cache.set(p.url,p),p})}var F=class{constructor(t){this.swup=void 0,this.pages=new Map,this.swup=t}get size(){return this.pages.size}get all(){let t=new Map;return this.pages.forEach((s,i)=>{t.set(i,y({},s))}),t}has(t){return this.pages.has(this.resolve(t))}get(t){let s=this.pages.get(this.resolve(t));return s&&y({},s)}set(t,s){s=y({},s,{url:t=this.resolve(t)}),this.pages.set(t,s),this.swup.hooks.callSync("cache:set",void 0,{page:s})}update(t,s){t=this.resolve(t);let i=y({},this.get(t),s,{url:t});this.pages.set(t,i)}delete(t){this.pages.delete(this.resolve(t))}clear(){this.pages.clear(),this.swup.hooks.callSync("cache:clear",void 0,void 0)}prune(t){this.pages.forEach((s,i)=>{t(i,s)&&this.delete(i)})}resolve(t){let{url:s}=E.fromUrl(t);return this.swup.resolveUrl(s)}},K=(e,t=document)=>t.querySelector(e),J=(e,t=document)=>Array.from(t.querySelectorAll(e)),it=()=>new Promise(e=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e()})})});function nt(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function wt(e,t=[]){return new Promise((s,i)=>{let n=e(...t);nt(n)?n.then(s,i):s(n)})}function Z(e,t){let s=e==null?void 0:e.closest(`[${t}]`);return s!=null&&s.hasAttribute(t)?(s==null?void 0:s.getAttribute(t))||!0:void 0}var z=class{constructor(t){this.swup=void 0,this.swupClasses=["to-","is-changing","is-rendering","is-popstate","is-animating","is-leaving"],this.swup=t}get selectors(){let{scope:t}=this.swup.visit.animation;return t==="containers"?this.swup.visit.containers:t==="html"?["html"]:Array.isArray(t)?t:[]}get selector(){return this.selectors.join(",")}get targets(){return this.selector.trim()?J(this.selector):[]}add(...t){this.targets.forEach(s=>s.classList.add(...t))}remove(...t){this.targets.forEach(s=>s.classList.remove(...t))}clear(){this.targets.forEach(t=>{let s=t.className.split(" ").filter(i=>this.isSwupClass(i));t.classList.remove(...s)})}isSwupClass(t){return this.swupClasses.some(s=>t.startsWith(s))}},M=class{constructor(t,s){this.id=void 0,this.state=void 0,this.from=void 0,this.to=void 0,this.containers=void 0,this.animation=void 0,this.trigger=void 0,this.cache=void 0,this.history=void 0,this.scroll=void 0,this.meta=void 0;let{to:i,from:n,hash:a,el:o,event:l}=s;this.id=Math.random(),this.state=1,this.from={url:n!=null?n:t.location.url,hash:t.location.hash},this.to={url:i,hash:a},this.containers=t.options.containers,this.animation={animate:!0,wait:!1,name:void 0,native:t.options.native,scope:t.options.animationScope,selector:t.options.animationSelector},this.trigger={el:o,event:l},this.cache={read:t.options.cache,write:t.options.cache},this.history={action:"push",popstate:!1,direction:void 0},this.scroll={reset:!0,target:void 0},this.meta={}}advance(t){this.state<t&&(this.state=t)}abort(){this.state=8}get done(){return this.state>=7}};function vt(e){return new M(this,e)}var G=class{constructor(t){this.swup=void 0,this.registry=new Map,this.hooks=["animation:out:start","animation:out:await","animation:out:end","animation:in:start","animation:in:await","animation:in:end","animation:skip","cache:clear","cache:set","content:replace","content:scroll","enable","disable","fetch:request","fetch:error","fetch:timeout","history:popstate","link:click","link:self","link:anchor","link:newtab","page:load","page:view","scroll:top","scroll:anchor","visit:start","visit:transition","visit:abort","visit:end"],this.swup=t,this.init()}init(){this.hooks.forEach(t=>this.create(t))}create(t){this.registry.has(t)||this.registry.set(t,new Map)}exists(t){return this.registry.has(t)}get(t){let s=this.registry.get(t);if(s)return s;console.error(`Unknown hook '${t}'`)}clear(){this.registry.forEach(t=>t.clear())}on(t,s,i={}){let n=this.get(t);if(!n)return console.warn(`Hook '${t}' not found.`),()=>{};let a=y({},i,{id:n.size+1,hook:t,handler:s});return n.set(s,a),()=>this.off(t,s)}before(t,s,i={}){return this.on(t,s,y({},i,{before:!0}))}replace(t,s,i={}){return this.on(t,s,y({},i,{replace:!0}))}once(t,s,i={}){return this.on(t,s,y({},i,{once:!0}))}off(t,s){let i=this.get(t);i&&s?i.delete(s)||console.warn(`Handler for hook '${t}' not found.`):i&&i.clear()}call(t,s,i,n){return k(this,null,function*(){let[a,o,l]=this.parseCallArgs(t,s,i,n),{before:r,handler:c,after:u}=this.getHandlers(t,l);yield this.run(r,a,o);let[h]=yield this.run(c,a,o,!0);return yield this.run(u,a,o),this.dispatchDomEvent(t,a,o),h})}callSync(t,s,i,n){let[a,o,l]=this.parseCallArgs(t,s,i,n),{before:r,handler:c,after:u}=this.getHandlers(t,l);this.runSync(r,a,o);let[h]=this.runSync(c,a,o,!0);return this.runSync(u,a,o),this.dispatchDomEvent(t,a,o),h}parseCallArgs(t,s,i,n){return s instanceof M||typeof s!="object"&&typeof i!="function"?[s,i,n]:[void 0,s,i]}run(a){return k(this,arguments,function*(t,s=this.swup.visit,i,n=!1){let o=[];for(let{hook:l,handler:r,defaultHandler:c,once:u}of t)if(s==null||!s.done){u&&this.off(l,r);try{let h=yield wt(r,[s,i,c]);o.push(h)}catch(h){if(n)throw h;console.error(`Error in hook '${l}':`,h)}}return o})}runSync(t,s=this.swup.visit,i,n=!1){let a=[];for(let{hook:o,handler:l,defaultHandler:r,once:c}of t)if(s==null||!s.done){c&&this.off(o,l);try{let u=l(s,i,r);a.push(u),nt(u)&&console.warn(`Swup will not await Promises in handler for synchronous hook '${o}'.`)}catch(u){if(n)throw u;console.error(`Error in hook '${o}':`,u)}}return a}getHandlers(t,s){let i=this.get(t);if(!i)return{found:!1,before:[],handler:[],after:[],replaced:!1};let n=Array.from(i.values()),a=this.sortRegistrations,o=n.filter(({before:h,replace:d})=>h&&!d).sort(a),l=n.filter(({replace:h})=>h).filter(h=>!0).sort(a),r=n.filter(({before:h,replace:d})=>!h&&!d).sort(a),c=l.length>0,u=[];if(s&&(u=[{id:0,hook:t,handler:s}],c)){let h=l.length-1,{handler:d,once:m}=l[h],g=w=>{let p=l[w-1];return p?(f,b)=>p.handler(f,b,g(w-1)):s};u=[{id:0,hook:t,once:m,handler:d,defaultHandler:g(h)}]}return{found:!0,before:o,handler:u,after:r,replaced:c}}sortRegistrations(t,s){var i,n;return((i=t.priority)!=null?i:0)-((n=s.priority)!=null?n:0)||t.id-s.id||0}dispatchDomEvent(t,s,i){if(s!=null&&s.done)return;let n={hook:t,args:i,visit:s||this.swup.visit};document.dispatchEvent(new CustomEvent("swup:any",{detail:n,bubbles:!0})),document.dispatchEvent(new CustomEvent(`swup:${t}`,{detail:n,bubbles:!0}))}parseName(t){let[s,...i]=t.split(".");return[s,i.reduce((n,a)=>y({},n,{[a]:!0}),{})]}},yt=e=>{if(e&&e.charAt(0)==="#"&&(e=e.substring(1)),!e)return null;let t=decodeURIComponent(e),s=document.getElementById(e)||document.getElementById(t)||K(`a[name='${CSS.escape(e)}']`)||K(`a[name='${CSS.escape(t)}']`);return s||e!=="top"||(s=document.body),s},N="transition",B="animation";function kt(s){return k(this,arguments,function*({selector:e,elements:t}){if(e===!1&&!t)return;let i=[];if(t)i=Array.from(t);else if(e&&(i=J(e,document.body),!i.length))return void console.warn(`[swup] No elements found matching animationSelector \`${e}\``);let n=i.map(a=>function(o){let{type:l,timeout:r,propCount:c}=function(u){let h=window.getComputedStyle(u),d=q(h,`${N}Delay`),m=q(h,`${N}Duration`),g=tt(d,m),w=q(h,`${B}Delay`),p=q(h,`${B}Duration`),f=tt(w,p),b=Math.max(g,f),S=b>0?g>f?N:B:null;return{type:S,timeout:b,propCount:S?S===N?m.length:p.length:0}}(o);return!(!l||!r)&&new Promise(u=>{let h=`${l}end`,d=performance.now(),m=0,g=()=>{o.removeEventListener(h,w),u()},w=p=>{p.target===o&&((performance.now()-d)/1e3<p.elapsedTime||++m>=c&&g())};setTimeout(()=>{m<c&&g()},r+1),o.addEventListener(h,w)})}(a));n.filter(Boolean).length>0?yield Promise.all(n):e&&console.warn(`[swup] No CSS animation duration defined on elements matching \`${e}\``)})}function q(e,t){return(e[t]||"").split(", ")}function tt(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,i)=>et(s)+et(e[i])))}function et(e){return 1e3*parseFloat(e)}function bt(e,t={},s={}){if(typeof e!="string")throw new Error("swup.navigate() requires a URL parameter");if(this.shouldIgnoreVisit(e,{el:s.el,event:s.event}))return void window.location.assign(e);let{url:i,hash:n}=E.fromUrl(e),a=this.createVisit(y({},s,{to:i,hash:n}));this.performNavigation(a,t)}function Et(s){return k(this,arguments,function*(e,t={}){if(this.navigating){if(this.visit.state>=6)return e.state=2,void(this.onVisitEnd=()=>this.performNavigation(e,t));yield this.hooks.call("visit:abort",this.visit,void 0),delete this.visit.to.document,this.visit.state=8}this.navigating=!0,this.visit=e;let{el:i}=e.trigger;t.referrer=t.referrer||this.location.url,t.animate===!1&&(e.animation.animate=!1),e.animation.animate||this.classes.clear();let n=t.history||Z(i,"data-swup-history");typeof n=="string"&&["push","replace"].includes(n)&&(e.history.action=n);let a=t.animation||Z(i,"data-swup-animation");var o,l;typeof a=="string"&&(e.animation.name=a),e.meta=t.meta||{},typeof t.cache=="object"?(e.cache.read=(o=t.cache.read)!=null?o:e.cache.read,e.cache.write=(l=t.cache.write)!=null?l:e.cache.write):t.cache!==void 0&&(e.cache={read:!!t.cache,write:!!t.cache}),delete t.cache;try{yield this.hooks.call("visit:start",e,void 0),e.state=3;let r=this.hooks.call("page:load",e,{options:t},(u,h)=>k(this,null,function*(){let d;return u.cache.read&&(d=this.cache.get(u.to.url)),h.page=d||(yield this.fetchPage(u.to.url,h.options)),h.cache=!!d,h.page}));r.then(({html:u})=>{e.advance(5),e.to.html=u,e.to.document=new DOMParser().parseFromString(u,"text/html")});let c=e.to.url+e.to.hash;if(e.history.popstate||(e.history.action==="replace"||e.to.url===this.location.url?x(c):(this.currentHistoryIndex++,mt(c,{index:this.currentHistoryIndex}))),this.location=E.fromUrl(c),e.history.popstate&&this.classes.add("is-popstate"),e.animation.name&&this.classes.add(`to-${st(e.animation.name)}`),e.animation.wait&&(yield r),e.done||(yield this.hooks.call("visit:transition",e,void 0,()=>k(this,null,function*(){if(!e.animation.animate)return yield this.hooks.call("animation:skip",void 0),void(yield this.renderPage(e,yield r));e.advance(4),yield this.animatePageOut(e),e.animation.native&&document.startViewTransition?yield document.startViewTransition(()=>k(this,null,function*(){return yield this.renderPage(e,yield r)})).finished:yield this.renderPage(e,yield r),yield this.animatePageIn(e)})),e.done))return;yield this.hooks.call("visit:end",e,void 0,()=>this.classes.clear()),e.state=7,this.navigating=!1,this.onVisitEnd&&(this.onVisitEnd(),this.onVisitEnd=void 0)}catch(r){if(!r||r!=null&&r.aborted)return void(e.state=8);e.state=9,console.error(r),this.options.skipPopStateHandling=()=>(window.location.assign(e.to.url+e.to.hash),!0),window.history.back()}finally{delete e.to.document}})}var St=function(e){return k(this,null,function*(){yield this.hooks.call("animation:out:start",e,void 0,()=>{this.classes.add("is-changing","is-animating","is-leaving")}),yield this.hooks.call("animation:out:await",e,{skip:!1},(t,{skip:s})=>{if(!s)return this.awaitAnimations({selector:t.animation.selector})}),yield this.hooks.call("animation:out:end",e,void 0)})},At=function(e){var t;let s=e.to.document;if(!s)return!1;let i=((t=s.querySelector("title"))==null?void 0:t.innerText)||"";document.title=i;let n=J('[data-swup-persist]:not([data-swup-persist=""])'),a=e.containers.map(o=>{let l=document.querySelector(o),r=s.querySelector(o);return l&&r?(l.replaceWith(r.cloneNode(!0)),!0):(l||console.warn(`[swup] Container missing in current document: ${o}`),r||console.warn(`[swup] Container missing in incoming document: ${o}`),!1)}).filter(Boolean);return n.forEach(o=>{let l=o.getAttribute("data-swup-persist"),r=K(`[data-swup-persist="${l}"]`);r&&r!==o&&r.replaceWith(o)}),a.length===e.containers.length},Tt=function(e){let t={behavior:"auto"},{target:s,reset:i}=e.scroll,n=s!=null?s:e.to.hash,a=!1;return n&&(a=this.hooks.callSync("scroll:anchor",e,{hash:n,options:t},(o,{hash:l,options:r})=>{let c=this.getAnchorElement(l);return c&&c.scrollIntoView(r),!!c})),i&&!a&&(a=this.hooks.callSync("scroll:top",e,{options:t},(o,{options:l})=>(window.scrollTo(y({top:0,left:0},l)),!0))),a},Ct=function(e){return k(this,null,function*(){if(e.done)return;let t=this.hooks.call("animation:in:await",e,{skip:!1},(s,{skip:i})=>{if(!i)return this.awaitAnimations({selector:s.animation.selector})});yield it(),yield this.hooks.call("animation:in:start",e,void 0,()=>{this.classes.remove("is-animating")}),yield t,yield this.hooks.call("animation:in:end",e,void 0)})},Pt=function(e,t){return k(this,null,function*(){if(e.done)return;e.advance(6);let{url:s}=t;this.isSameResolvedUrl(H(),s)||(x(s),this.location=E.fromUrl(s),e.to.url=this.location.url,e.to.hash=this.location.hash),yield this.hooks.call("content:replace",e,{page:t},(i,{})=>{if(this.classes.remove("is-leaving"),i.animation.animate&&this.classes.add("is-rendering"),!this.replaceContent(i))throw new Error("[swup] Container mismatch, aborting");i.animation.animate&&(this.classes.add("is-changing","is-animating","is-rendering"),i.animation.name&&this.classes.add(`to-${st(i.animation.name)}`))}),yield this.hooks.call("content:scroll",e,void 0,()=>this.scrollToContent(e)),yield this.hooks.call("page:view",e,{url:this.location.url,title:document.title})})},xt=function(e){var t;if(t=e,!!(t!=null&&t.isSwupPlugin)){if(e.swup=this,!e._checkRequirements||e._checkRequirements())return e._beforeMount&&e._beforeMount(),e.mount(),this.plugins.push(e),this.plugins}else console.error("Not a swup plugin instance",e)};function Ht(e){let t=this.findPlugin(e);if(t)return t.unmount(),t._afterUnmount&&t._afterUnmount(),this.plugins=this.plugins.filter(s=>s!==t),this.plugins;console.error("No such plugin",t)}function Ut(e){return this.plugins.find(t=>t===e||t.name===e||t.name===`Swup${String(e)}`)}function Lt(e){if(typeof this.options.resolveUrl!="function")return console.warn("[swup] options.resolveUrl expects a callback function."),e;let t=this.options.resolveUrl(e);return t&&typeof t=="string"?t.startsWith("//")||t.startsWith("http")?(console.warn("[swup] options.resolveUrl needs to return a relative url"),e):t:(console.warn("[swup] options.resolveUrl needs to return a url"),e)}function $t(e,t){return this.resolveUrl(e)===this.resolveUrl(t)}var Ot={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',animationScope:"html",cache:!0,containers:["#swup"],hooks:{},ignoreVisit:(e,{el:t}={})=>!(t==null||!t.closest("[data-no-swup]")),linkSelector:"a[href]",linkToSelf:"scroll",native:!1,plugins:[],resolveUrl:e=>e,requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},skipPopStateHandling:e=>{var t;return((t=e.state)==null?void 0:t.source)!=="swup"},timeout:0},_=class{get currentPageUrl(){return this.location.url}constructor(t={}){var s,i;this.version="4.8.2",this.options=void 0,this.defaults=Ot,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.location=E.fromUrl(window.location.href),this.currentHistoryIndex=void 0,this.clickDelegate=void 0,this.navigating=!1,this.onVisitEnd=void 0,this.use=xt,this.unuse=Ht,this.findPlugin=Ut,this.log=()=>{},this.navigate=bt,this.performNavigation=Et,this.createVisit=vt,this.delegateEvent=ft,this.fetchPage=gt,this.awaitAnimations=kt,this.renderPage=Pt,this.replaceContent=At,this.animatePageIn=Ct,this.animatePageOut=St,this.scrollToContent=Tt,this.getAnchorElement=yt,this.getCurrentUrl=H,this.resolveUrl=Lt,this.isSameResolvedUrl=$t,this.options=y({},this.defaults,t),this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new F(this),this.classes=new z(this),this.hooks=new G(this),this.visit=this.createVisit({to:""}),this.currentHistoryIndex=(s=(i=window.history.state)==null?void 0:i.index)!=null?s:1,this.enable()}enable(){return k(this,null,function*(){var t;let{linkSelector:s}=this.options;this.clickDelegate=this.delegateEvent(s,"click",this.handleLinkClick),window.addEventListener("popstate",this.handlePopState),this.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.options.native=this.options.native&&!!document.startViewTransition,this.options.plugins.forEach(i=>this.use(i));for(let[i,n]of Object.entries(this.options.hooks)){let[a,o]=this.hooks.parseName(i);this.hooks.on(a,n,o)}((t=window.history.state)==null?void 0:t.source)!=="swup"&&x(null,{index:this.currentHistoryIndex}),yield it(),yield this.hooks.call("enable",void 0,void 0,()=>{let i=document.documentElement;i.classList.add("swup-enabled"),i.classList.toggle("swup-native",this.options.native)})})}destroy(){return k(this,null,function*(){this.clickDelegate.destroy(),window.removeEventListener("popstate",this.handlePopState),this.cache.clear(),this.options.plugins.forEach(t=>this.unuse(t)),yield this.hooks.call("disable",void 0,void 0,()=>{let t=document.documentElement;t.classList.remove("swup-enabled"),t.classList.remove("swup-native")}),this.hooks.clear()})}shouldIgnoreVisit(t,{el:s,event:i}={}){let{origin:n,url:a,hash:o}=E.fromUrl(t);return n!==window.location.origin||!(!s||!this.triggerWillOpenNewWindow(s))||!!this.options.ignoreVisit(a+o,{el:s,event:i})}handleLinkClick(t){let s=t.delegateTarget,{href:i,url:n,hash:a}=E.fromElement(s);if(this.shouldIgnoreVisit(i,{el:s,event:t}))return;if(this.navigating&&n===this.visit.to.url)return void t.preventDefault();let o=this.createVisit({to:n,hash:a,el:s,event:t});t.metaKey||t.ctrlKey||t.shiftKey||t.altKey?this.hooks.callSync("link:newtab",o,{href:i}):t.button===0&&this.hooks.callSync("link:click",o,{el:s,event:t},()=>{var l;let r=(l=o.from.url)!=null?l:"";t.preventDefault(),n&&n!==r?this.isSameResolvedUrl(n,r)||this.performNavigation(o):a?this.hooks.callSync("link:anchor",o,{hash:a},()=>{x(n+a),this.scrollToContent(o)}):this.hooks.callSync("link:self",o,void 0,()=>{this.options.linkToSelf==="navigate"?this.performNavigation(o):(x(n),this.scrollToContent(o))})})}handlePopState(t){var s,i,n,a;let o=(s=(i=t.state)==null?void 0:i.url)!=null?s:window.location.href;if(this.options.skipPopStateHandling(t)||this.isSameResolvedUrl(H(),this.location.url))return;let{url:l,hash:r}=E.fromUrl(o),c=this.createVisit({to:l,hash:r,event:t});c.history.popstate=!0;let u=(n=(a=t.state)==null?void 0:a.index)!=null?n:0;u&&u!==this.currentHistoryIndex&&(c.history.direction=u-this.currentHistoryIndex>0?"forwards":"backwards",this.currentHistoryIndex=u),c.animation.animate=!1,c.scroll.reset=!1,c.scroll.target=!1,this.options.animateHistoryBrowsing&&(c.animation.animate=!0,c.scroll.reset=!0),this.hooks.callSync("history:popstate",c,{event:t},()=>{this.performNavigation(c)})}triggerWillOpenNewWindow(t){return!!t.matches('[download], [target="_blank"]')}};function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},U.apply(this,arguments)}var ot=e=>String(e).split(".").map(t=>String(parseInt(t||"0",10))).concat(["0","0"]).slice(0,3).join("."),P=class{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(t=>t()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return typeof this.requires!="object"||Object.entries(this.requires).forEach(([t,s])=>{if(!function(i,n,a){let o=function(l,r){var c;if(l==="swup")return(c=r.version)!=null?c:"";{var u;let h=r.findPlugin(l);return(u=h==null?void 0:h.version)!=null?u:""}}(i,a);return!!o&&((l,r)=>r.every(c=>{let[,u,h]=c.match(/^([\D]+)?(.*)$/)||[];var d,m;return((g,w)=>{let p={"":f=>f===0,">":f=>f>0,">=":f=>f>=0,"<":f=>f<0,"<=":f=>f<=0};return(p[w]||p[""])(g)})((m=h,d=ot(d=l),m=ot(m),d.localeCompare(m,void 0,{numeric:!0})),u||">=")}))(o,n)}(t,s=Array.isArray(s)?s:[s],this.swup)){let i=`${t} ${s.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${i}`)}}),!0}on(t,s,i={}){var n;s=!(n=s).name.startsWith("bound ")||n.hasOwnProperty("prototype")?s.bind(this):s;let a=this.swup.hooks.on(t,s,i);return this.handlersToUnregister.push(a),a}once(t,s,i={}){return this.on(t,s,U({},i,{once:!0}))}before(t,s,i={}){return this.on(t,s,U({},i,{before:!0}))}replace(t,s,i={}){return this.on(t,s,U({},i,{replace:!0}))}off(t,s){return this.swup.hooks.off(t,s)}};var R=class extends P{constructor(...t){super(...t),this._originalAnimationSelectorOption="",this._addedStyleElements=[],this._addedHTMLContent=[],this._classNameAddedToElements=[],this._addClassNameToElement=()=>{this._classNameAddedToElements.forEach(s=>{Array.from(document.querySelectorAll(s.selector)).forEach(i=>{i.classList.add(`swup-transition-${s.name}`)})})}}_beforeMount(){this._originalAnimationSelectorOption=String(this.swup.options.animationSelector),this.swup.options.animationSelector='[class*="swup-transition-"]',this.swup.hooks.on("content:replace",this._addClassNameToElement)}_afterUnmount(){this.swup.options.animationSelector=this._originalAnimationSelectorOption,this._addedStyleElements.forEach(t=>{t.outerHTML=""}),this._addedStyleElements=[],this._addedHTMLContent.forEach(t=>{t.outerHTML=""}),this._addedHTMLContent=[],this._classNameAddedToElements.forEach(t=>{Array.from(document.querySelectorAll(t.selector)).forEach(s=>{s.className.split(" ").forEach(i=>{new RegExp("^swup-transition-").test(i)&&s.classList.remove(i)})})}),this.swup.hooks.off("content:replace",this._addClassNameToElement)}applyStyles(t){let s=document.createElement("style");s.setAttribute("data-swup-theme",""),s.appendChild(document.createTextNode(t)),document.head.prepend(s),this._addedStyleElements.push(s)}applyHTML(t){let s=document.createElement("div");s.innerHTML=t,document.body.appendChild(s),this._addedHTMLContent.push(s)}addClassName(t,s){this._classNameAddedToElements.push({selector:t,name:s}),this._addClassNameToElement()}};function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)({}).hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},X.apply(null,arguments)}var j=class extends R{constructor(t={}){super(),this.name="SwupFadeTheme",this.defaults={mainElement:"#swup"},this.options=X({},this.defaults,t)}mount(){this.applyStyles("html{--swup-fade-theme-duration:.4s}html.is-changing .swup-transition-main{opacity:1;transition:opacity var(--swup-fade-theme-duration)}html.is-animating .swup-transition-main{opacity:0}"),this.addClassName(this.options.mainElement,"main")}};function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)({}).hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},I.apply(null,arguments)}function rt(e){return e.localName!=="title"&&!e.matches("[data-swup-theme]")}function at(e,t){return e.outerHTML===t.outerHTML}function lt(e,t=[]){let s=Array.from(e.attributes);return t.length?s.filter(({name:i})=>t.some(n=>n instanceof RegExp?n.test(i):i===n)):s}function Nt(e){return e.matches("link[rel=stylesheet][href]")}var V=class extends P{constructor(t={}){var s;super(),s=this,this.name="SwupHeadPlugin",this.requires={swup:">=4.6"},this.defaults={persistTags:!1,persistAssets:!1,awaitAssets:!1,attributes:["lang","dir"],timeout:3e3},this.options=void 0,this.updateHead=function(n,a){return k(this,arguments,function*(i,{page:{}}){let{awaitAssets:o,attributes:l,timeout:r}=s.options,c=i.to.document,{removed:u,added:h}=function(d,m,{shouldPersist:g=()=>!1}={}){let w=Array.from(d.children),p=Array.from(m.children),f=(b=w,p.reduce((v,T,L)=>(b.some($=>at(T,$))||v.push({el:T,index:L}),v),[]));var b;let S=function(v,T){return v.reduce((L,$)=>(T.some(ct=>at($,ct))||L.push({el:$}),L),[])}(w,p);S.reverse().filter(({el:v})=>rt(v)).filter(({el:v})=>!g(v)).forEach(({el:v})=>d.removeChild(v));let A=f.filter(({el:v})=>rt(v)).map(v=>{let T=v.el.cloneNode(!0);return d.insertBefore(T,d.children[(v.index||0)+1]||null),I({},v,{el:T})});return{removed:S.map(({el:v})=>v),added:A.map(({el:v})=>v)}}(document.head,c.head,{shouldPersist:d=>s.isPersistentTag(d)});if(s.swup.log(`Removed ${u.length} / added ${h.length} tags in head`),l!=null&&l.length&&function(d,m,g=[]){let w=new Set;for(let{name:p,value:f}of lt(m,g))d.setAttribute(p,f),w.add(p);for(let{name:p}of lt(d,g))w.has(p)||d.removeAttribute(p)}(document.documentElement,c.documentElement,l),o){let d=function(m,g=0){return m.filter(Nt).map(w=>function(p,f=0){let b,S=A=>{p.sheet?A():b=setTimeout(()=>S(A),10)};return new Promise(A=>{S(()=>A(p)),f>0&&setTimeout(()=>{b&&clearTimeout(b),A(p)},f)})}(w,g))}(h,r);d.length&&(s.swup.log(`Waiting for ${d.length} assets to load`),yield Promise.all(d))}})},this.options=I({},this.defaults,t),this.options.persistAssets&&!this.options.persistTags&&(this.options.persistTags="link[rel=stylesheet], script[src], style")}mount(){this.before("content:replace",this.updateHead)}isPersistentTag(t){let{persistTags:s}=this.options;return typeof s=="function"?s(t):typeof s=="string"&&s.length>0?t.matches(s):!!s}};var qt=new _({plugins:[new j,new V]});qt.hooks.on("visit:start",()=>{console.log("Navigating to:",window.location.href)});})();
